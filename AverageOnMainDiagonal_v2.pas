program DiagonalAverage;

uses
  crt;  {Підключення бібліотеки для використання random}

const
  n = 5;  {Розмірність масиву, у цьому випадку 5 x 5, можна змінити на будь-яке значення}

var
  arr: array[1..n, 1..n] of integer;  {Оголошення двовимірного масиву розміром n x n для зберігання цілих чисел}
  i, j: integer;  {Оголошення змінних для циклів (i - для рядків, j - для стовпців)}
  sum: integer;  {Змінна для зберігання суми елементів головної діагоналі}
  avg: real;  {Змінна для зберігання середнього арифметичного}

begin
  randomize;  {Ініціалізація генератора випадкових чисел для отримання різних результатів при кожному запуску}

  {Генерація значень для елементів масиву у діапазоні від -100 до 100}
  writeln('Генерація елементів масиву розміром ', n, ' x ', n);
  for i := 1 to n do  {Зовнішній цикл для проходження по рядках}
  begin
    for j := 1 to n do  {Внутрішній цикл для проходження по стовпцях}
    begin
      arr[i, j] := random(201) - 100;  {Генерація випадкового числа в діапазоні від -100 до 100}
      write('arr[', i, ',', j, ']: ', arr[i, j], ' ');  {Виведення значення елемента}
    end;
    writeln;  {Перехід на новий рядок після виведення одного рядка масиву}
  end;

  {Ініціалізація змінної sum для підрахунку суми елементів головної діагоналі}
  sum := 0;

  {Обчислення суми елементів головної діагоналі}
  for i := 1 to n do  {Цикл для проходження по головній діагоналі (i = j)}
  begin
    sum := sum + arr[i, i];  {Додаємо елемент на головній діагоналі до суми}
  end;

  {Обчислення середнього арифметичного елементів головної діагоналі}
  avg := sum / n;  {Ділимо суму елементів на кількість елементів (n)}

  {Виведення результату (середнє арифметичне з точністю до двох знаків після коми)}
  writeln('Середнє арифметичне елементів головної діагоналі: ', avg:0:2);
end.

